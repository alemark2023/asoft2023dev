!function(t){"use strict";var e={initialised:!1,mobile:!1,init:function(){this.initialised||(this.initialised=!0,this.initShop(),this.addToCart(),this.checkMobile(),this.stickyHeader(),this.headerSearchToggle(),this.mMenuIcons(),this.mMenuToggle(),this.mobileMenu(),this.scrollToTop(),this.quantityInputs(),this.countTo(),this.tooltip(),this.popover(),this.changePassToggle(),this.changeBillToggle(),this.catAccordion(),this.ajaxLoadProduct(),this.toggleFilter(),this.toggleSidebar(),this.productTabSroll(),this.scrollToElement(),this.loginPopup(),this.windowClick(),t.fn.superfish&&this.menuInit(),t.fn.owlCarousel&&this.owlCarousels(),"object"==typeof noUiSlider&&this.filterSlider(),t.fn.themeSticky&&this.stickySidebar(),t.fn.magnificPopup&&this.lightBox())},checkMobile:function(){/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?this.mobile=!0:this.mobile=!1},menuInit:function(){t(".menu").superfish({popUpSelector:"ul, .megamenu",hoverClass:"show",delay:0,speed:80,speedOut:80,autoArrows:!0})},stickyHeader:function(){if(t(".sticky-header").length&&(new Waypoint.Sticky({element:t(".sticky-header")[0],stuckClass:"fixed",offset:-10}),!t(".header-bottom").find(".logo, .cart-dropdown").length)){var e=t(".header-bottom").find(".container");t(".header").find(".logo, .cart-dropdown").clone(!0).prependTo(e)}t("main").find(".sticky-header").each(function(){new Waypoint.Sticky({element:t(this),stuckClass:"fixed-nav"})})},headerSearchToggle:function(){t(".search-toggle").on("click",function(e){t(".header-search-wrapper").toggleClass("show"),e.preventDefault()}),t("body").on("click",function(e){t(".header-search-wrapper").hasClass("show")&&(t(".header-search-wrapper").removeClass("show"),t("body").removeClass("is-search-active"))}),t(".header-search").on("click",function(t){t.stopPropagation()})},mMenuToggle:function(){t(".mobile-menu-toggler").on("click",function(e){t("body").toggleClass("mmenu-active"),t(this).toggleClass("active"),e.preventDefault()}),t(".mobile-menu-overlay, .mobile-menu-close").on("click",function(e){t("body").removeClass("mmenu-active"),t(".menu-toggler").removeClass("active"),e.preventDefault()})},mMenuIcons:function(){t(".mobile-menu").find("li").each(function(){var e=t(this);e.find("ul").length&&t("<span/>",{class:"mmenu-btn"}).appendTo(e.children("a"))})},mobileMenu:function(){t(".mmenu-btn").on("click",function(e){var o=t(this).closest("li"),n=o.find("ul").eq(0);o.hasClass("open")?n.slideUp(300,function(){o.removeClass("open")}):n.slideDown(300,function(){o.addClass("open")}),e.stopPropagation(),e.preventDefault()})},owlCarousels:function(){var e={loop:!0,margin:0,responsiveClass:!0,nav:!1,navText:['<i class="icon-left-open-big">','<i class="icon-right-open-big">'],dots:!0,autoplay:!0,autoplayTimeout:15e3,items:1},o=t(".home-slider");o.owlCarousel(t.extend(!0,{},e,{lazyLoad:!0,autoplayTimeout:2e4,animateOut:"fadeOut"})),o.on("loaded.owl.lazy",function(e){t(e.element).closest(".home-slider").addClass("loaded")}),t(".featured-products").owlCarousel(t.extend(!0,{},e,{loop:!1,margin:30,autoplay:!1,responsive:{0:{items:2},480:{items:2},768:{items:3}}})),t(".home-featured-products").owlCarousel(t.extend(!0,{},e,{loop:!1,margin:30,autoplay:!1,responsive:{0:{items:2},700:{items:3,margin:15},1200:{items:4,margin:15}}})),t(".widget-banners-slider").owlCarousel(t.extend(!0,{},e,{lazyLoad:!0,navText:['<i class="icon-angle-left">','<i class="icon-angle-right">'],autoHeight:!0})),t(".widget-testimonials-slider").owlCarousel(t.extend(!0,{},e,{lazyLoad:!0,navText:['<i class="icon-angle-left">','<i class="icon-angle-right">'],autoHeight:!0})),t(".widget-posts-slider").owlCarousel(t.extend(!0,{},e,{lazyLoad:!0,navText:['<i class="icon-angle-left">','<i class="icon-angle-right">'],autoHeight:!0})),t(".widget-featured-products").owlCarousel(t.extend(!0,{},e,{lazyLoad:!0,nav:!0,navText:['<i class="icon-angle-left">','<i class="icon-angle-right">'],dots:!1,autoHeight:!0})),t(".testimonials-carousel").owlCarousel(t.extend(!0,{},e,{lazyLoad:!0,navText:['<i class="icon-angle-left">','<i class="icon-angle-right">'],autoHeight:!0,responsive:{0:{items:1},992:{items:2}}})),t(".entry-slider").each(function(){t(this).owlCarousel(t.extend(!0,{},e,{margin:2,lazyLoad:!0,navText:['<i class="icon-left-open-big">','<i class="icon-right-open-big">']}))}),t(".related-posts-carousel").owlCarousel(t.extend(!0,{},e,{loop:!1,margin:30,navText:['<i class="icon-left-open-big">','<i class="icon-right-open-big">'],autoplay:!1,responsive:{0:{items:1},480:{items:2},1200:{items:3}}})),t(".boxed-slider").owlCarousel(t.extend(!0,{},e,{lazyLoad:!0,autoplayTimeout:2e4,animateOut:"fadeOut"})),t(".boxed-slider").on("loaded.owl.lazy",function(e){t(e.element).closest(".boxed-slider").addClass("loaded")}),t(".product-single-default .product-single-carousel").owlCarousel(t.extend(!0,{},e,{nav:!0,navText:['<i class="icon-angle-left">','<i class="icon-angle-right">'],dotsContainer:"#carousel-custom-dots",autoplay:!1,onInitialized:function(){var e=this.$element;t.fn.elevateZoom&&e.find("img").each(function(){var e=t(this),o={responsive:!0,zoomWindowFadeIn:350,zoomWindowFadeOut:200,borderSize:0,zoomContainer:e.parent(),zoomType:"inner",cursor:"grab"};e.elevateZoom(o)})}})),t(".product-single-extended .product-single-carousel").owlCarousel(t.extend(!0,{},e,{dots:!1,autoplay:!1,responsive:{0:{items:1},480:{items:2},1200:{items:3}}})),t("#carousel-custom-dots .owl-dot").click(function(){t(".product-single-carousel").trigger("to.owl.carousel",[t(this).index(),300])})},filterSlider:function(){var e=document.getElementById("price-slider");null!=e&&(noUiSlider.create(e,{start:[200,700],connect:!0,step:100,margin:100,range:{min:0,max:1e3}}),e.noUiSlider.on("update",function(e,o){e=e.map(function(t){return"$"+t}),t("#filter-price-range").text(e.join(" - "))}))},stickySidebar:function(){t(".sidebar-wrapper, .sticky-slider").themeSticky({autoInit:!0,minWidth:991,containerSelector:".row, .container",autoFit:!0,paddingOffsetBottom:10,paddingOffsetTop:60})},countTo:function(){t.fn.countTo?t.fn.waypoint?t(".count").waypoint(function(){t(this.element).countTo()},{offset:"90%",triggerOnce:!0}):t(".count").countTo():t(".count").each(function(){var e=t(this),o=e.data("to");e.text(o)})},tooltip:function(){t.fn.tooltip&&t('[data-toggle="tooltip"]').tooltip({trigger:"hover focus"})},popover:function(){t.fn.popover&&t('[data-toggle="popover"]').popover({trigger:"focus"})},changePassToggle:function(){t("#change-pass-checkbox").on("change",function(){t("#account-chage-pass").toggleClass("show")})},changeBillToggle:function(){t("#change-bill-address").on("change",function(){t("#checkout-shipping-address").toggleClass("show"),t("#new-checkout-address").toggleClass("show")})},catAccordion:function(){t(".catAccordion").on("shown.bs.collapse",function(e){var o=t(e.target).closest("li");o.hasClass("open")||o.addClass("open")}).on("hidden.bs.collapse",function(e){var o=t(e.target).closest("li");o.hasClass("open")&&o.removeClass("open")})},scrollBtnAppear:function(){t(window).scrollTop()>=400?t("#scroll-top").addClass("fixed"):t("#scroll-top").removeClass("fixed")},scrollToTop:function(){t("#scroll-top").on("click",function(e){t("html, body").animate({scrollTop:0},1200),e.preventDefault()})},lightBox:function(){var o=[],n=t(0===t(".product-single-carousel .owl-item:not(.cloned) img").length?".product-single-gallery img":".product-single-carousel .owl-item:not(.cloned) img");n.each(function(){o.push({src:t(this).attr("data-zoom-image")})}),t(".prod-full-screen").click(function(e){var i;i=e.currentTarget.closest(".product-slider-container")?(t(".product-single-carousel").data("owl.carousel").current()+n.length-Math.ceil(n.length/2))%n.length:t(e.currentTarget).closest(".product-item").index(),t.magnificPopup.open({items:o,navigateByImgClick:!0,type:"image",gallery:{enabled:!0}},i)}),t("a.btn-quickview").on("click",function(o){o.preventDefault(),e.ajaxLoading();var n=t(this).attr("href");setTimeout(function(){t.magnificPopup.open({type:"ajax",mainClass:"mfp-ajax-product",tLoading:"",preloader:!1,removalDelay:350,items:{src:n},callbacks:{ajaxContentAdded:function(){e.owlCarousels(),e.quantityInputs(),"undefined"!=typeof addthis?addthis.layers.refresh():t.getScript("http://s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5b927288a03dbde6")},beforeClose:function(){t(".ajaxOverlay").remove()}},ajax:{tError:""}})},1e3)})},productTabSroll:function(){t(".rating-link").on("click",function(e){if(t(".product-single-tabs").length)t("#product-tab-reviews").tab("show");else{if(!t(".product-single-collapse").length)return;t("#product-reviews-content").collapse("show")}t("#product-reviews-content").length&&setTimeout(function(){var e=t("#product-reviews-content").offset().top-60;t("html, body").stop().animate({scrollTop:e},800)},250),e.preventDefault()})},quantityInputs:function(){t.fn.TouchSpin&&(t(".vertical-quantity").TouchSpin({verticalbuttons:!0,verticalup:"",verticaldown:"",verticalupclass:"icon-up-dir",verticaldownclass:"icon-down-dir",buttondown_class:"btn btn-outline",buttonup_class:"btn btn-outline",initval:1,min:1}),t(".horizontal-quantity").TouchSpin({verticalbuttons:!1,buttonup_txt:"",buttondown_txt:"",buttondown_class:"btn btn-outline btn-down-icon",buttonup_class:"btn btn-outline btn-up-icon",initval:1,min:1}))},ajaxLoading:function(){t("body").append("<div class='ajaxOverlay'><i class='porto-loading-icon'></i></div>")},ajaxLoadProduct:function(){var e=0;o.click(function(n){n.preventDefault(),t(this).text("Loading ..."),t.ajax({url:"ajax/category-ajax-products.html",success:function(n){var i=t(n);setTimeout(function(){i.appendTo(".product-ajax-grid"),o.text("Load More"),++e>=2&&o.hide()},350)},failure:function(){o.text("Sorry something went wrong.")}})})},toggleFilter:function(){t(".filter-toggle a").click(function(e){e.preventDefault(),t(".filter-toggle").toggleClass("opened"),t("main").toggleClass("sidebar-opened")}),t(".sidebar-overlay").click(function(e){t(".filter-toggle").removeClass("opened"),t("main").removeClass("sidebar-opened")}),t(".sort-menu-trigger").click(function(e){e.preventDefault(),t(".select-custom").removeClass("opened"),t(e.target).closest(".select-custom").toggleClass("opened")})},toggleSidebar:function(){t(".sidebar-toggle").click(function(){t("main").toggleClass("sidebar-opened")})},scrollToElement:function(){t('.scrolling-box a[href^="#"]').on("click",function(e){var o=t(this.getAttribute("href"));o.length&&(e.preventDefault(),t("html, body").stop().animate({scrollTop:o.offset().top-90},700))})},loginPopup:function(){t(".login-link").click(function(t){$("#login_register_modal").modal("show"),t.preventDefault()})},windowClick:function(){t(document).click(function(e){t(e.target).closest(".toolbox-item.select-custom").length||t(".select-custom").removeClass("opened")})},productsCartDropDown:function(){jQuery(".dropdown-cart-products").empty(),jQuery(".cart-count").empty();let t=0,e=localStorage.getItem("products_cart");t=(e=JSON.parse(e)).length,e.forEach(t=>{jQuery(".dropdown-cart-products").append(`\n\t\t\t\t\t\t<div class="product">\n\t\t\t\t\t\t\t<div class="product-details">\n\t\t\t\t\t\t\t<h4 class="product-title">\n\t\t\t\t\t\t\t\t<a href="$">${t.name}</a>\n\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t<span class="cart-product-info">\n\t\t\t\t\t\t\t\t<span class="cart-product-qty">1</span> x ${t.sale_unit_price}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<figure class="product-image-container">\n\t\t\t\t\t\t\t\t<a href="#" class="product-image">\n\t\t\t\t\t\t\t\t\t<img alt="product" src="/storage/uploads/items/${t.image_small}" />\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t<a href="#" onclick="remove(${t.id})" class="btn-remove" title="Remove Product">\n\t\t\t\t\t\t\t\t\t<i class="icon-cancel"></i>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t</div>`)}),jQuery(".cart-count").append(t)},addToCart:function(){let e=this;t(".add-cart").click(function(t){let o=localStorage.getItem("products_cart");o=JSON.parse(o);let n=jQuery(this).data("product");o.find(t=>t.id==n.id)?e.alreadyProductCart():(o.push(jQuery(this).data("product")),localStorage.setItem("products_cart",JSON.stringify(o)),e.productsCartDropDown(),e.successAddProduct(),e.calculateTotalCart(),$("#product_added").html(`\n\t\t\t\t\t\t<h1 class="product-title">${n.name}</h1>\n\t\t\t\t\t\t<div class="price-box">\n\t\t\t\t\t\t\t<span class="product-price">S/ ${Number(n.sale_unit_price).toFixed(2)}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="product-desc">\n\t\t\t\t\t\t\t<p> ${n.description}  </p>\n\t\t\t\t\t\t</div>\t`),$("#product_added_image").html(`<img src="/storage/uploads/items/${n.image_medium}" class="img" alt="product">`))})},successAddProduct:function(){jQuery("#moda-succes-add-product").modal("show")},alreadyProductCart:function(){jQuery("#modal-already-product").modal("show")},initShop:function(){localStorage.getItem("products_cart")||localStorage.setItem("products_cart",JSON.stringify([]))},calculateTotalCart:function(){let t=localStorage.getItem("products_cart");t=JSON.parse(t);let e=0;t.forEach(t=>{e+=parseFloat(t.sale_unit_price)}),$(".cart-total-price").empty(),$(".cart-total-price").append(e.toFixed(2))}};t("body").prepend('<div class="loading-overlay"><div class="bounce-loader"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div></div>');var o=t(".loadmore .btn");jQuery(document).ready(function(){e.init()}),t(window).on("load",function(){t("body").addClass("loaded"),e.scrollBtnAppear()}),t(window).on("scroll",function(){e.scrollBtnAppear()})}(jQuery);